# MaxTV для Lampa

## Описание
MaxTV - это IPTV плагин для медиаплеера Lampa, позволяющий просматривать телеканалы через плейлисты в формате M3U/M3U8.

## Возможности
- Поддержка плейлистов в формате M3U/M3U8
- Организация каналов по группам
- Управление списком избранных каналов
- Просмотр программы передач (EPG)
- Поддержка архива (функция Catchup)
- Переключение каналов с помощью пульта (цифровыми кнопками и кнопками влево/вправо)

## Установка
1. В приложении Lampa перейдите в раздел "Настройки".
2. Выберите "Плагины".
3. Добавьте новый плагин, используя URL:
   ```
   https://maks-mk.github.io/tv.js
   ```
4. Нажмите "Установить".
5. Перезапустите приложение.

## Использование
1. После настройки плагина в главном меню появится новый пункт "MaxTV".
2. При переходе в него будет загружен список каналов из указанного плейлиста.
3. Для просмотра телеканала выберите нужный канал и нажмите "OK".
4. Для переключения между группами каналов нажмите кнопку "Категории" в верхнем меню.
5. Для добавления канала в избранное удерживайте "OK" на выбранном канале.

### Переключение каналов
- Цифровыми кнопками (по номеру канала)
- Кнопками влево/вправо (предыдущий/следующий канал)
- Кнопками Pg+/Pg- (предыдущий/следующий канал)

### Управление избранным
Для управления избранными каналами:
1. Удерживайте "OK" на выбранном канале.
2. В появившемся меню выберите нужное действие:
   - Добавить в избранное / Удалить из избранного
   - Переместить вверх/вниз
   - Очистить избранное

### Просмотр программы передач (EPG)
Для включения/отключения телепрограммы:
1. Удерживайте "OK" на любом канале.
2. Выберите "Включить телепрограмму" или "Отключить телепрограмму".

### Работа с архивом
Если канал поддерживает архив (Catchup):
1. Удерживайте "OK" на канале с поддержкой архива.
2. Выберите "Архив" или "Смотреть сначала" для текущей программы.
3. В архиве выберите нужную программу для просмотра.

## Устранение неполадок
- Если плейлист не загружается, проверьте правильность URL и формат плейлиста.
- В случае проблем с отображением EPG убедитесь, что плейлист содержит необходимые атрибуты для EPG.
- При возникновении ошибок связанных с conflict id, проверьте, что не используются плагины с одинаковым идентификатором.

## Примечания
- Для правильной работы EPG требуются atрибуты tvg-id в плейлисте.
- Для работы архива (Catchup) необходимы соответствующие атрибуты в плейлисте (catchup, catchup-days и т.д.).
- Работа плагина зависит от доступности и качества используемого плейлиста. 